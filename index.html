<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Sistema Gamer</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background-image:url("fundo.jpg");
  background-size:cover;
  background-position:center;
  background-attachment:fixed;
  color:#fff;
}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  z-index:-1;
}

/* PLAYER BOX */
#playerBox{
  position:fixed;
  top:10px;
  left:10px;
  width:230px;
  background:#06172f;
  padding:10px;
}

/* AVATAR */
#avatarWrapper{
  position:relative;
  width:90px;
  height:90px;
  margin:auto;
}

/* COBRA ADM */
.adm-snake::before{
  content:"";
  position:absolute;
  inset:-6px;
  background:linear-gradient(90deg,#00ff88,#00ffaa,#00ff88);
  filter:blur(6px);
  animation:snake 2s linear infinite;
}
@keyframes snake{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

#avatar{
  width:90px;
  height:90px;
  position:relative;
  z-index:2;
}

/* FOTO */
#photoBtn{
  position:absolute;
  bottom:-6px;
  right:-6px;
  width:22px;
  height:22px;
  border-radius:50%;
  cursor:pointer;
}

/* INFO */
#playerName{font-weight:bold}
#playerName.premium{
  color:#00ffaa;
  text-shadow:0 0 8px #00ffaa;
}
#playerPremium{font-size:11px;color:#ffd700}
#playerCoins{color:gold;font-size:13px}
#playerTime{font-size:11px}

/* BOT√ïES */
button{
  width:100%;
  margin-top:5px;
  padding:6px;
  cursor:pointer;
  background:#00aaff;
  font-weight:bold;
  border:none;
}

/* MENUS */
.menu{
  position:fixed;
  right:10px;
  top:50%;
  transform:translateY(-50%);
  background:#021024;
  padding:10px;
  width:230px;
  display:none;
}

.feedback{
  font-size:11px;
  height:14px;
  margin-top:4px;
}
.ok{color:#00ff88}
.err{color:#ff5555}

.hidden{display:none}
</style>
</head>

<body>

<!-- SONS -->
<audio id="soundError" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>
<audio id="soundSuccess" src="https://www.soundjay.com/buttons/sounds/button-4.mp3"></audio>

<!-- PLAYER -->
<div id="playerBox">
  <div id="avatarWrapper">
    <img id="avatar" src="https://i.imgur.com/6VBx3io.png">
    <button id="photoBtn">üì∑</button>
  </div>

  <div id="playerName"></div>
  <div id="playerPremium"></div>
  <div id="playerCoins"></div>
  <div id="playerTime"></div>

  <button onclick="toggleMenu('borderMenu')">üé® Comprar Bordas</button>
  <button onclick="toggleMenu('prizeMenu')">üèÜ Comprar Pr√™mio</button>
  <button onclick="toggleMenu('adminMenu')" id="adminBtn">üëë Menu ADM</button>

  <div id="feedback" class="feedback"></div>
</div>

<input type="file" id="photoInput" class="hidden" accept="image/*">

<!-- BORDAS -->
<div id="borderMenu" class="menu">
  <h3>Bordas</h3>
  <button onclick="buyBorder('Azul',100)">Azul ‚Äì 100</button>
  <button onclick="buyBorder('Roxa',500)">Roxa ‚Äì 500</button>
</div>

<!-- PR√äMIO -->
<div id="prizeMenu" class="menu">
  <h3>üèÜ Premium</h3>
  <button onclick="buyPremium()">Comprar Premium (5000)</button>
</div>

<!-- ADM -->
<div id="adminMenu" class="menu">
  <h3>üëë ADM</h3>
  <input id="giveUser" placeholder="Jogador">
  <input id="giveValue" type="number" placeholder="Moedas">
  <button onclick="giveMoney()">Dar dinheiro</button>
</div>

<script>
/* CONFIG */
const ADMIN="Rodolfo";
let user="Rodolfo"; // login simulado
let isADM=user===ADMIN;

/* DADOS */
let coins=isADM?Infinity:Number(localStorage.getItem("coins_"+user))||0;
let time=Number(localStorage.getItem("time_"+user))||0;
let premium=localStorage.getItem("premium_"+user)==="1";
let inventory=JSON.parse(localStorage.getItem("inv_"+user))||[];

/* ELEMENTOS */
playerName.innerText=user;
playerCoins.innerText="üí∞ "+(isADM?"‚àû":coins);
playerTime.innerText="‚è±Ô∏è "+time+"s";

if(premium){
  playerPremium.innerText="‚≠ê Premium";
  playerName.classList.add("premium");
}

if(isADM){
  avatarWrapper.classList.add("adm-snake");
}else{
  adminBtn.style.display="none";
}

/* FOTO */
const savedPhoto=localStorage.getItem("avatar_"+user);
if(savedPhoto) avatar.src=savedPhoto;

photoBtn.onclick=()=>photoInput.click();
photoInput.onchange=e=>{
  const r=new FileReader();
  r.onload=()=>{
    avatar.src=r.result;
    localStorage.setItem("avatar_"+user,r.result);
  }
  r.readAsDataURL(e.target.files[0]);
};

/* LOOP */
setInterval(()=>{
  time++;
  localStorage.setItem("time_"+user,time);
  playerTime.innerText="‚è±Ô∏è "+time+"s";
  if(!isADM){
    coins++;
    localStorage.setItem("coins_"+user,coins);
    playerCoins.innerText="üí∞ "+coins;
  }
},1000);

/* MENUS */
function toggleMenu(id){
  document.querySelectorAll(".menu").forEach(m=>m.style.display="none");
  const el=document.getElementById(id);
  el.style.display=el.style.display==="block"?"none":"block";
}

/* FEEDBACK + SOM */
function showMsg(msg,type){
  feedback.innerText=msg;
  feedback.className="feedback "+type;
  setTimeout(()=>feedback.innerText="",2000);
}

function playError(){
  soundError.currentTime=0;
  soundError.play();
}

function playSuccess(){
  soundSuccess.currentTime=0;
  soundSuccess.play();
}

/* BORDAS */
function buyBorder(name,price){
  if(!isADM && coins<price){
    showMsg("‚ùå Voc√™ n√£o tem dinheiro","err");
    playError();
    return;
  }
  if(!inventory.includes(name)){
    inventory.push(name);
    localStorage.setItem("inv_"+user,JSON.stringify(inventory));
  }
  if(!isADM){
    coins-=price;
    localStorage.setItem("coins_"+user,coins);
    playerCoins.innerText="üí∞ "+coins;
  }
  showMsg("‚úî Compra realizada","ok");
  playSuccess();
}

/* PREMIUM */
function buyPremium(){
  if(premium){
    showMsg("‚úî Voc√™ j√° √© Premium","ok");
    playSuccess();
    return;
  }
  if(!isADM && coins<5000){
    showMsg("‚ùå Voc√™ n√£o tem dinheiro","err");
    playError();
    return;
  }
  premium=true;
  localStorage.setItem("premium_"+user,"1");
  playerPremium.innerText="‚≠ê Premium";
  playerName.classList.add("premium");
  if(!isADM){
    coins-=5000;
    localStorage.setItem("coins_"+user,coins);
    playerCoins.innerText="üí∞ "+coins;
  }
  showMsg("‚úî Compra realizada","ok");
  playSuccess();
}

/* ADM */
function giveMoney(){
  if(!isADM) return;
  const u=giveUser.value;
  const v=Number(giveValue.value);
  if(!u||!v) return;
  const c=Number(localStorage.getItem("coins_"+u))||0;
  localStorage.setItem("coins_"+u,c+v);
  showMsg("‚úî Dinheiro enviado","ok");
  playSuccess();
}
</script>

</body>
</html>
